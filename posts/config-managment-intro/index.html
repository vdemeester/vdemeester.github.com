<!DOCTYPE html>

<html lang="fr">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <base href="http://vincent.demeester.fr/">
    <link rel="start" href="http://vincent.demeester.fr/" />

    <title>Vincent Demeester</title>
    <link rel="canonical" href="http://vincent.demeester.fr/posts/config-managment-intro/">
    <link href="" rel="alternate" type="application/rss+xml" title="Vincent Demeester" />

    <link rel="openid.server" href="https://indieauth.com/openid" />
    <link rel="openid.delegate" href="http://vincent.demeester.fr/" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <link rel="stylesheet" href="/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="/css/sbrain.css" type="text/css" />


    <style type="text/css">
      #header {
      
      background: url('/images/2014/03/83029.jpg') repeat scroll center center / cover transparent;
      
      }
    </style>

  </head>
  
  <body lang="fr"/>
  


  <header id="header">

    <a href="" title="Vincent Demeester"><img id="header-illustration" src="/images/vde.png" /></a>

    <div>
      <h1>
        <summary>
          <em>French</em> developer, sysadmin, <abbr title="who does all kinds of work">factotum</abbr> and <span class="fan"><abbr title="as in free speek">free</abbr>-software <abbr title="You could say Evangelist">fan</abbr></span>.
        </summary>
      </h1>
      <ul class="nav">
        <li class="archive"><a href="/archive/">Archive</a></li>
        <li class="categories"><a href="/categories/">Categories</a></li>
        <li class="tags"><a href="/tags/">Tags</a></li>
      </ul>
    </div>
  </header>


<div id="main-container">
  <div id="page">
    <article class="post">
      <header>
        <h1 class="emphnext">Gestion de configuration : introduction</h1><a href='http://vincent.demeester.fr/posts/config-managment-intro/'></a>
        <address class="signature">
          <span class="date">Sat, 8 Aug, 2015</span>
          <span class="words">(700 Words)</span>
        </address>
        <ul class="tag_box inline">
          
          <li class="category"><a href="/categories/#configurations">configurations</a></li>
          
          
          
          
          
          <li class="tag tag-git"><a href="/tags/#git">git<span>3</span></a></li>
          
          
          <li class="tag tag-myrepos"><a href="/tags/#myrepos">myrepos<span>1</span></a></li>
          
          
          <li class="tag tag-mr"><a href="/tags/#mr">mr<span>1</span></a></li>
          
          
          <li class="tag tag-vcsh"><a href="/tags/#vcsh">vcsh<span>1</span></a></li>
          
          
          <li class="tag tag-linux"><a href="/tags/#linux">linux<span>2</span></a></li>
          
          
          <li class="tag tag-posix"><a href="/tags/#posix">posix<span>1</span></a></li>
          
          
          <li class="tag tag-shell"><a href="/tags/#shell">shell<span>1</span></a></li>
          
          
          <li class="tag tag-sharing"><a href="/tags/#sharing">sharing<span>1</span></a></li>
          
          <br/>
          
        </ul>
      </header>
</header>
<p>
Cela doit faire au moins 2 ans que je souhaite partager la façon dont
je gère mes configurations (en anglais <i>dotfiles</i>). Comme j'ai
longtemps repoussé l'échéance, probablement de peur d'avoir un roman à
écrire, je vais en faire une série de petit billet de blog dont
celui-ci est l'introduction. Nous y aborderons donc mon besoin, et le
pourquoi de mes choix.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Besoin(s)</h2>
<div class="outline-text-2" id="text-1">
<p>
En bon <b>geek</b> que je suis, je suis fan des <i>dotfiles</i>. Les <i>dotfiles</i>
— fichers de configurations — sont de petits fichiers, habituellement
dans votre dossier personnel (votre <i>$HOME</i>), qui nous permettent de
paramétrer et personnaliser nos outils de tous les jours. C'est
principalement vrai pour des outils en ligne de commande — et ça tombe
bien, j'adore — mais pas uniquement limité à ces derniers.
</p>

<p>
Je vais faire une très petite aparté sur le pourquoi de cette
personnalisation :
</p>

<ul class="org-ul">
<li>C'est <b>fun</b> à faire et c'est relativement important de mon point de vue.
</li>
<li>C'est <b>éducatif</b> ou /formateur ; on lit les documentations de nos
outils, leurs fonctionnalités un peu caché. On va souvent découvrir
un peu la philosophie dans laquelle l'outil a été créé. C'est en
mettant les <i>mains dans le camboui</i> et en <i>foutant un gros bordel</i>
que j'ai le plus appris (ça va du <i>language</i> shell et d'autres
languages de scrips, de POSIX, au noyau linux ou encore au LISP avec
GNU/Emacs).
</li>
<li>Cela fait <b>gagner du temps</b> et de manière non négligeable. Je suis
né courageux mais terriblement fainéant (et oui c'est possible
<code>:-P</code>), j'aime pas trop me répéter quand ça devient un peu compliqué
/ chiant (e.g. <code>docker run monimage args</code> ça va, <code>docker run -v /tmp:/tmp -v /var/run/docker.socket:/var/run/docker.socket […] run monimage arg1 arg2 arg3 […]</code>
moins déjà).
</li>
</ul>

<p>
Revenons à nos moutons et faisons une petit liste de mes besoins, un
peu en vrac :
</p>

<ul class="org-ul">
<li>J'ai plusieurs ordinateurs (laptop/desktop/servers) et je souhaite
avoir mes configurations <b>synchroniser</b> entre ceux-ci — et ce de
manière simple, c'est à dire <i>une commande à exécuter</i>.
</li>
<li>C'est lié au point précédent mais, je ne <i>peux pas vivre</i> sans
outil de gestion de version, comme <b>git</b>. Il me faut donc un outil
ou ensemble d'outil qui sait utiliser des outils de gestion de
version <i>du marché</i>.
</li>
</ul>

<blockquote>
<p>
Git all the thing !
</p>
</blockquote>

<ul class="org-ul">
<li>En fonction de mes ordinateurs, mes besoins de configuration
changent. Il me faut donc un outil <b>flexible</b> qui me permet de dire
par example : sur ce PC j'ai un serveur <code>Xorg</code> donc j'ai besoin de
mes configuration xorg, de celle de mon <i>window manager</i>, etc. — et
inversement sur ce serveur j'ai besoin de python et haskell mais pas
de xorg..
</li>
<li>Je ne souhaites pas avoir à faire des liens symboliques, ou de
scripts d'installation. Je trouves que ça rends les choses plus
compliquées. Du coup il faut que je puisse avoir <b>plusieurs <i>dépots
de configuration</i></b> (repository) qui pointent au même endroit, sans
que ce soit le bordel.
</li>
<li>Le <b>partage</b> est important pour moi. Il en découle deux choses :
<ol class="org-ol">
<li>Il faut que je puisse documenter un peu mon repository, avec un
bon vieux <code>README</code> ; sans que chaque <code>README</code> se marchent dessus.
</li>
<li>Il y a quelques <b>informations</b> qui sont <b>personnelles</b>, comme par
exemple les clés ssh. Il me faut donc être capable d'avoir des
<i>dépots publiques</i> et des <i>dépôts privés</i>. C'est très facilité
par l'aspect <i>flexibilité</i> <code>:-)</code>.
</li>
</ol>
</li>
<li>Un bonus que je souhaite, est de pouvoir disposer de <b>hooks</b>, un peu
à la manière de git (voir <a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">ici</a>). L'idée est par example de pouvoir
<b>générer</b> un fichier de configuration à partir d'un ensemble de
fichier qui viendraient de différents dépots. Le meilleur exemple
que je peux donner c'est <code>~/.ssh/config</code> dans lequel je vais y
mettre des bouts publiques que je souhaites partager (comme le <code>Host
  *</code> avec des trucs cool comme <code>ControlPersist</code>, on en parlera plus
tard) et des bouts privés (mes hosts privés, avec mes configurations
de rebonds, etc..).
</li>
</ul>

<p>
Cette liste a mis un certain temps à se former dans ma tête, mais une
fois qu'elle était formé, j'ai pu assez facilement faire des choix.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Choix</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">vcsh</h3>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">myrepos</h3>
</div>
</div>

</article>
<div class="prev-next">
  
  <a class="paging-link prev" href="/posts/2015-06-01-docker-1.6-ecosystem/" title="Docker 1.6 et son écosystème">← Previous post</a>
  

  
</div>

</div>
</div>

<div id="footer">
  	<address>
  		<span class="copyright">
  			Content and design by <a href="/info/site.html">Vincent Demeester</a>
  			(<a rel="licence" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights reserved</a>)
  		</span><br />
  		<span class="engine">
  			Powered by <a href="http://github.com/mojombo/jekyll/" title="A static, minimalist CMS">Jekyll</a>
  		</span>
  	</address>
  </div>
</body>

